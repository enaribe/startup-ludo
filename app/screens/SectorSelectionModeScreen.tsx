import React from 'react';
import {
    Dimensions,
    ImageBackground,
    StyleSheet,
    Text,
    TouchableOpacity,
    View,
} from 'react-native';

const { width, height } = Dimensions.get('window');

interface SectorSelectionModeScreenProps {
  onSelectMode: (mode: 'random' | 'manual') => void;
  onBack: () => void;
}

const SectorSelectionModeScreen: React.FC<SectorSelectionModeScreenProps> = ({ onSelectMode, onBack }) => {
  return (
    <ImageBackground 
      source={require('../../assets/images/bg.png')} 
      style={styles.container}
      resizeMode="cover"
    >
      {/* Overlay semi-transparent pour am√©liorer la lisibilit√© */}
      <View style={styles.overlay} />
      
      {/* Bouton retour */}
      <TouchableOpacity style={styles.backButton} onPress={onBack}>
        <Text style={styles.backButtonIcon}>‚Üê</Text>
        <Text style={styles.backButtonText}>Retour</Text>
      </TouchableOpacity>
      
      {/* Titre principal */}
      <View style={styles.titleContainer}>
        <Text style={styles.titleText}>Choisir l'√©dition</Text>
        <Text style={styles.subtitleText}>Comment voulez-vous d√©couvrir votre secteur d'entrepreneuriat ?</Text>
      </View>
      
      {/* Options de s√©lection */}
      <View style={styles.optionsContainer}>
        {/* Mode al√©atoire */}
        <TouchableOpacity 
          style={[styles.modeButton, styles.randomModeButton]}
          onPress={() => onSelectMode('random')}
          activeOpacity={0.8}
        >
          <View style={styles.modeIconContainer}>
            <Text style={styles.modeIcon}>üé≤</Text>
          </View>
          <Text style={styles.modeTitle}>Mode Surprise</Text>
          <Text style={styles.modeDescription}>
            Laissez le hasard d√©cider !{'\n'}Touchez la carte myst√®re pour{'\n'}d√©couvrir votre secteur
          </Text>
          <View style={styles.buttonAccent} />
        </TouchableOpacity>
        
        {/* Mode manuel */}
        <TouchableOpacity 
          style={[styles.modeButton, styles.manualModeButton]}
          onPress={() => onSelectMode('manual')}
          activeOpacity={0.8}
        >
          <View style={styles.modeIconContainer}>
            <Text style={styles.modeIcon}>üéØ</Text>
          </View>
          <Text style={styles.modeTitle}>Mode Expert</Text>
          <Text style={styles.modeDescription}>
            Prenez le contr√¥le !{'\n'}Choisissez directement le secteur{'\n'}qui vous passionne
          </Text>
          <View style={styles.buttonAccent} />
        </TouchableOpacity>
      </View>
      
      {/* Indication en bas */}
      <View style={styles.bottomHint}>
        <Text style={styles.hintText}>üí° Chaque secteur offre des d√©fis et opportunit√©s uniques</Text>
      </View>
    </ImageBackground>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    paddingHorizontal: 20,
  },
  overlay: {
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: 'rgba(0, 0, 0, 0.2)', // Overlay l√©ger pour am√©liorer la lisibilit√©
  },
  titleContainer: {
    alignItems: 'center',
    marginBottom: 30,
    zIndex: 1,
  },
  titleText: {
    fontSize: 34,
    fontWeight: 'bold',
    color: '#FFFFFF', // Blanc au lieu de dor√©
    textAlign: 'center',
    marginBottom: 15,
    textShadowColor: 'rgba(0, 0, 0, 0.8)',
    textShadowOffset: { width: 2, height: 2 },
    textShadowRadius: 4,
  },
  subtitleText: {
    fontSize: 18,
    color: '#FFFFFF',
    textAlign: 'center',
    lineHeight: 26,
    paddingHorizontal: 10,
    textShadowColor: 'rgba(0, 0, 0, 0.7)',
    textShadowOffset: { width: 1, height: 1 },
    textShadowRadius: 3,
  },
  optionsContainer: {
    flexDirection: 'column', // Chang√© de 'row' √† 'column'
    justifyContent: 'center',
    alignItems: 'center',
    width: '100%',
    paddingHorizontal: 20,
    paddingBottom: 80, // Ajouter un padding en bas pour √©viter le chevauchement
    zIndex: 1,
  },
  modeButton: {
    width: '85%', // Largeur fixe pour les boutons
    backgroundColor: 'rgba(255, 255, 255, 0.15)', // Couleur transparente uniforme
    borderRadius: 25,
    padding: 20, // R√©duire le padding pour √©conomiser l'espace
    marginVertical: 12, // R√©duire l'espacement vertical
    alignItems: 'center',
    shadowColor: '#000',
    shadowOffset: {
      width: 0,
      height: 10,
    },
    shadowOpacity: 0.3,
    shadowRadius: 15,
    elevation: 10,
    borderWidth: 2,
    borderColor: 'rgba(255, 255, 255, 0.3)', // Bordure transparente
    position: 'relative',
    overflow: 'hidden',
  },
  randomModeButton: {
    // Style suppl√©mentaire si n√©cessaire (actuellement vide)
  },
  manualModeButton: {
    // Style suppl√©mentaire si n√©cessaire (actuellement vide)
  },
  modeIconContainer: {
    width: 80, // R√©duire l√©g√®rement la taille
    height: 80,
    borderRadius: 40,
    backgroundColor: 'rgba(255, 255, 255, 0.9)',
    justifyContent: 'center',
    alignItems: 'center',
    marginBottom: 15, // R√©duire la marge
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.2,
    shadowRadius: 8,
    elevation: 5,
  },
  modeIcon: {
    fontSize: 40, // R√©duire l√©g√®rement la taille
  },
  modeTitle: {
    fontSize: 20, // R√©duire l√©g√®rement la taille
    fontWeight: 'bold',
    color: '#FFFFFF',
    marginBottom: 12, // R√©duire la marge
    textAlign: 'center',
    textShadowColor: 'rgba(0, 0, 0, 0.8)',
    textShadowOffset: { width: 1, height: 1 },
    textShadowRadius: 3,
  },
  modeDescription: {
    fontSize: 14, // R√©duire l√©g√®rement la taille
    color: '#FFFFFF',
    textAlign: 'center',
    lineHeight: 20, // Ajuster la hauteur de ligne
    textShadowColor: 'rgba(0, 0, 0, 0.7)',
    textShadowOffset: { width: 1, height: 1 },
    textShadowRadius: 2,
  },
  buttonAccent: {
    position: 'absolute',
    bottom: 0,
    left: 0,
    right: 0,
    height: 4,
    backgroundColor: 'rgba(255, 255, 255, 0.4)', // Glow plus subtil
  },
  bottomHint: {
    position: 'absolute',
    bottom: 30, // Garder la m√™me position
    left: 20,
    right: 20,
    alignItems: 'center',
    zIndex: 1,
  },
  hintText: {
    fontSize: 16,
    color: '#FFFFFF', // Blanc au lieu de dor√©
    textAlign: 'center',
    fontStyle: 'italic',
    textShadowColor: 'rgba(0, 0, 0, 0.8)',
    textShadowOffset: { width: 1, height: 1 },
    textShadowRadius: 3,
  },
  backButton: {
    position: 'absolute',
    top: 50,
    left: 20,
    zIndex: 10,
    backgroundColor: 'rgba(255, 255, 255, 0.15)', // Couleur transparente
    paddingHorizontal: 20,
    paddingVertical: 12,
    borderRadius: 25,
    flexDirection: 'row',
    alignItems: 'center',
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.3,
    shadowRadius: 8,
    elevation: 8,
    borderWidth: 2,
    borderColor: 'rgba(255, 255, 255, 0.3)', // Bordure transparente
  },
  backButtonIcon: {
    fontSize: 18,
    color: '#FFFFFF',
    fontWeight: 'bold',
    marginRight: 8,
    textShadowColor: 'rgba(0, 0, 0, 0.8)',
    textShadowOffset: { width: 1, height: 1 },
    textShadowRadius: 2,
  },
  backButtonText: {
    fontSize: 16,
    fontWeight: 'bold',
    color: '#FFFFFF',
    textShadowColor: 'rgba(0, 0, 0, 0.8)',
    textShadowOffset: { width: 1, height: 1 },
    textShadowRadius: 2,
  },
});

export default SectorSelectionModeScreen; 